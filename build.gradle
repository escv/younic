// Available to customize the build

plugins {
	id 'java'
}

repositories {
    mavenCentral()
}

task wrapper(type: Wrapper) {
  jarFile = rootProject.file('.gradle-wrapper/gradle-wrapper.jar')
}

task dist() {
	def aggSourceDirs = [] as LinkedList
	bndWorkspace.models.each{
		def fromFile = new File(it.value.base, "generated/")
		copy {
            from fromFile
            into 'cnf/run/bundle/'
            include '**/*.jar'
        }
	}
}

task packageZip(type: Zip) {
    dependsOn dist
    archiveName = "younic.zip"
    destinationDir = file("cnf/release")
    from "cnf/run"
}
